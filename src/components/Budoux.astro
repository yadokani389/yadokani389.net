---
import { loadDefaultJapaneseParser } from "budoux";

interface Props {
  text: string;
}

const { text } = Astro.props;
---

<!-- https://github.com/haxibami/h6i.org/blob/affa8e77df1c4262556bbe1a1fc87d468118fd9a/src/components/Budoux.astro under MIT -->
<>
  {
    loadDefaultJapaneseParser()
      .parse(text)
      .flatMap((value, index) => [
        ...(index > 0 ? [<wbr />] : []),
        <>{value}</>,
      ])
  }
</>
