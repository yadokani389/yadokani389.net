---
const { param = "tag" } = Astro.props;
const safeConfigJson = JSON.stringify({ param }).replaceAll("<", "\\u003c");
---

<script
  is:inline
  id="tag-filter-config"
  type="application/json"
  set:html={safeConfigJson}
/>
<script>
  import {
    applyTagFilter,
    readTagFilterConfig,
  } from "../lib/filter/tagFilterClient";

  const config = readTagFilterConfig();
  applyTagFilter(config?.param ?? "tag");
</script>
