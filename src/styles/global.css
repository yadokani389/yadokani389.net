@import "tailwindcss";
@plugin "@tailwindcss/typography";
@plugin "daisyui" {
  themes: all;
  /* Workaround for daisyUI#3882: nested @property warns during CSS optimization. */
  exclude: properties;
}
@source "../**/*.{astro,html,js,jsx,ts,tsx,svelte,md,mdx}";

@theme {
  --font-sans: "M PLUS Rounded 1c", "Noto Sans JP", sans-serif;
  --font-display: "Fredoka", "M PLUS Rounded 1c", sans-serif;
  --font-mono: "JetBrains Mono", ui-monospace, SFMono-Regular, Menlo, monospace;

  --color-ink-900: var(--color-base-content);
  --color-ink-800: color-mix(
    in oklab,
    var(--color-base-content) 88%,
    var(--color-base-100)
  );
  --color-ink-700: color-mix(
    in oklab,
    var(--color-base-content) 76%,
    var(--color-base-100)
  );
  --color-ink-600: color-mix(
    in oklab,
    var(--color-base-content) 64%,
    var(--color-base-100)
  );
  --color-ink-500: color-mix(
    in oklab,
    var(--color-base-content) 52%,
    var(--color-base-100)
  );

  --color-sand-50: var(--color-base-100);
  --color-sand-100: var(--color-base-200);
  --color-sand-200: var(--color-base-300);
  --color-sand-300: color-mix(
    in oklab,
    var(--color-base-300) 72%,
    var(--color-base-content)
  );

  --color-sage-500: var(--color-primary);
  --color-sage-600: color-mix(
    in oklab,
    var(--color-primary) 85%,
    var(--color-base-content)
  );
  --color-sage-700: color-mix(
    in oklab,
    var(--color-primary) 70%,
    var(--color-base-content)
  );

  --color-clay-300: var(--color-secondary);
  --color-clay-400: color-mix(
    in oklab,
    var(--color-secondary) 88%,
    var(--color-base-content)
  );
  --color-clay-500: color-mix(
    in oklab,
    var(--color-secondary) 76%,
    var(--color-base-content)
  );
  --color-clay-600: color-mix(
    in oklab,
    var(--color-secondary) 64%,
    var(--color-base-content)
  );

  --shadow-soft: 0 6px 16px
    color-mix(in oklab, var(--color-base-content) 12%, transparent);
  --shadow-lift: 0 10px 22px
    color-mix(in oklab, var(--color-base-content) 16%, transparent);
  --shadow-glow: 0 10px 18px
    color-mix(in oklab, var(--color-primary) 30%, transparent);

  --radius-4xl: 2rem;
}

@layer base {
  * {
    box-sizing: border-box;
  }

  html {
    scroll-behavior: smooth;
  }

  body {
    @apply min-h-screen bg-sand-100 font-sans text-ink-900 antialiased flex flex-col;
    letter-spacing: 0.01em;
  }

  img {
    @apply block max-w-full;
  }

  a {
    @apply text-ink-900 no-underline transition-colors duration-200;
  }

  a:hover {
    @apply text-sage-600;
  }

  h1,
  h2,
  h3,
  h4 {
    @apply font-display text-ink-900;
  }

  ::selection {
    background-color: color-mix(
      in oklab,
      var(--color-base-content) 18%,
      var(--color-base-100)
    );
  }
}

@layer components {
  html[data-color-scheme="dark"] .astro-code,
  html[data-color-scheme="dark"] .astro-code span {
    color: var(--shiki-dark) !important;
    background-color: var(--shiki-dark-bg) !important;
    font-style: var(--shiki-dark-font-style) !important;
    font-weight: var(--shiki-dark-font-weight) !important;
    text-decoration: var(--shiki-dark-text-decoration) !important;
  }

  .prose {
    @apply text-ink-700;
  }

  .prose h1,
  .prose h2,
  .prose h3,
  .prose h4 {
    @apply font-display text-ink-900;
  }

  .prose a {
    @apply font-semibold text-sage-600 underline decoration-1 underline-offset-4;
  }

  .prose a:hover {
    @apply text-sage-700;
  }

  .prose strong {
    @apply text-ink-900;
  }

  .prose code {
    @apply rounded-md bg-sand-100 px-2 py-0.5 font-mono text-sm text-ink-800;
  }

  .prose code::before,
  .prose code::after {
    content: "";
  }

  .prose pre {
    @apply rounded-2xl border border-sand-200 bg-sand-100 p-5 text-ink-900;
  }

  .prose blockquote {
    @apply border-l-4 border-clay-400 text-ink-600;
  }

  .prose .remark-link-card-plus__container {
    @apply w-full max-w-full;
    margin: 0.875rem 0;
  }

  .prose .remark-link-card-plus__card {
    @apply flex w-full max-w-full flex-col gap-1.5 overflow-hidden rounded-xl border border-sand-200 bg-sand-50 px-3.5 py-2.5 !no-underline transition hover:border-sage-500/40 hover:shadow-soft focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-sage-500/40;
  }

  .prose .remark-link-card-plus__main {
    @apply flex min-w-0 w-full flex-col gap-1.5;
  }

  .prose .remark-link-card-plus__content {
    @apply flex min-w-0 flex-col gap-1.5;
  }

  .prose .remark-link-card-plus__title {
    @apply m-0 text-xl font-semibold leading-tight text-ink-900 no-underline;
    display: -webkit-box;
    overflow: hidden;
    -webkit-box-orient: vertical;
    -webkit-line-clamp: 2;
  }

  .prose .remark-link-card-plus__description {
    @apply m-0 text-[0.98rem] leading-snug text-ink-600 no-underline;
    display: -webkit-box;
    overflow: hidden;
    -webkit-box-orient: vertical;
    -webkit-line-clamp: 2;
  }

  .prose .remark-link-card-plus__meta {
    @apply flex items-center gap-2 text-[0.98rem] font-medium text-ink-500;
  }

  .prose .remark-link-card-plus__favicon {
    @apply m-0 h-[18px] w-[18px] shrink-0 self-center rounded-sm border border-sand-200;
    margin: 0 !important;
    margin-block: 0 !important;
  }

  .prose .remark-link-card-plus__url {
    @apply truncate no-underline;
  }

  .prose .remark-link-card-plus__card:hover .remark-link-card-plus__title {
    @apply text-sage-700;
  }
}

[data-budoux] {
  word-break: keep-all;
  overflow-wrap: anywhere;
}
